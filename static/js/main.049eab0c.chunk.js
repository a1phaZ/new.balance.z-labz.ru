(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{204:function(e,t,a){e.exports=a(333)},333:function(e,t,a){"use strict";a.r(t);a(205),a(231),a(233),a(234),a(236),a(237),a(238),a(239),a(240),a(241),a(242),a(243),a(245),a(246),a(247),a(248),a(249),a(250),a(251),a(252),a(253),a(254),a(256),a(257),a(258),a(259),a(260),a(261),a(262),a(263),a(264),a(265),a(266),a(267),a(268),a(269),a(270),a(271),a(272),a(273);var n=a(0),l=a.n(n),o=a(141),c=a.n(o),i=a(36),r=a.n(i),u=a(8),d=a(71),s=a.n(d),m=(a(281),a(157)),p=a.n(m),v=a(158),E=a.n(v),f=a(62),y=a.n(f),b=a(98),h=a.n(b),O=a(3),g=function(e){return new Intl.NumberFormat("ru-RU",{style:"currency",currency:"RUB"}).format(e)},T=a(26),j=a.n(T),w=a(31),S=a(75),C=a.n(S),_="SET_MODAL",A=function(e){var t=e.data,a=e.showAll,o=void 0!==a&&a,c=e.dispatch,i=e.itemsName,r=e.needHide,d=void 0===r||r,s=Object(n.useState)((function(){return o})),m=Object(u.a)(s,2),p=m[0],v=m[1];if(0===t.length){if("accounts"===i)return l.a.createElement(O.j,null,"\u041d\u0435\u0442 \u0441\u0447\u0435\u0442\u043e\u0432 \u0434\u043b\u044f \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u044f");if("budgets"===i)return l.a.createElement(O.j,null,"\u041d\u0435\u0442 \u0431\u044e\u0434\u0436\u0435\u0442\u043e\u0432 \u0434\u043b\u044f \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u044f")}var E=t.sort((function(e,t){return t.sum-e.sum})).map((function(e,t){return 3!==t||p?t>3&&!p?null:l.a.createElement(C.a,{key:t,indicator:g(e.sum),expandable:!0,"data-id":e._id,onClick:function(){var e=Object(w.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("accounts"!==i){e.next=5;break}return e.next=3,c({type:"SET_ACCOUNT",payload:{id:t.currentTarget.dataset.id}});case 3:return e.next=5,c({type:"SET_ACTIVE_VIEW",payload:{view:"info",panel:"account"}});case 5:if("budgets"!==i){e.next=10;break}return e.next=8,c({type:"SET_BUDGET",payload:{id:t.currentTarget.dataset.id}});case 8:return e.next=10,c({type:"SET_ACTIVE_VIEW",payload:{view:"info",panel:"budget"}});case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},e.title):l.a.createElement(C.a,{key:t,expandable:!0,onClick:function(){v(!0)}},l.a.createElement(O.J,{weight:"semibold",style:{marginBottom:16}},"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u0432\u0441\u0435"))}));return d&&p&&E.push(l.a.createElement(C.a,{key:t.length,expandable:!0,onClick:function(){v(!1)}},l.a.createElement(O.J,{weight:"semibold",style:{marginBottom:16}},"accounts"===i?"\u0421\u043a\u0440\u044b\u0442\u044c \u0441\u0447\u0435\u0442\u0430":"\u0421\u043a\u0440\u044b\u0442\u044c \u0431\u044e\u0434\u0436\u0435\u0442\u044b"))),E},P=a(55),x=a.n(P),V=a(72),D=a.n(V),k=a(37),I=a(7),R={accounts:[],budgets:[],account:null,budget:null,modal:null,successMessage:null,error:null,activeView:"home",activePanel:"home",popout:null,editedItem:null,currentDate:new Date,history:[]},M=function(e,t){switch(t.type){case"SET_ACTIVE_VIEW":return t.payload.view===e.activeView&&t.payload.panel===e.activePanel?(window.history.replaceState({activeView:e.activeView,activePanel:e.activePanel},"".concat(e.activeView,".").concat(e.activePanel),window.location.search),Object(I.a)({},e)):(window.history.pushState({activeView:t.payload.view,activePanel:t.payload.panel},"".concat(t.payload.view,".").concat(t.payload.panel),window.location.search),Object(I.a)(Object(I.a)({},e),{},{activeView:t.payload.view,activePanel:t.payload.panel,history:[].concat(Object(k.a)(e.history),[{activeView:t.payload.view,activePanel:t.payload.panel}])}));case"SET_ACTIVE_PANEL":return window.history.replaceState({activeView:e.activeView,activePanel:t.payload.panel},"".concat(e.activeView,".").concat(t.payload.panel),window.location.search),Object(I.a)(Object(I.a)({},e),{},{activePanel:t.payload.panel,history:[].concat(Object(k.a)(e.history),[{activeView:e.activeView,activePanel:t.payload.panel}])});case"SET_HISTORY_BACK":var a,n=e.history[e.history.length-2],l=null===(a=t.payload)||void 0===a?void 0:a.state;if(l)return Object(I.a)(Object(I.a)({},e),{},{activeView:l.activeView?l.activeView:"home",activePanel:l.activePanel?l.activePanel:"home",modal:l.modal?l.modal:null,popout:l.popout?l.popout:null,history:[{activeView:l.activeView?l.activeView:"home",activePanel:l.activePanel?l.activePanel:"home"}]});if(n){var o=e.history;return o.pop(),Object(I.a)(Object(I.a)({},e),{},{activeView:n.activeView,activePanel:n.activePanel,history:Object(k.a)(o)})}return Object(I.a)(Object(I.a)({},e),{},{activeView:"home",activePanel:"home",history:[{activeView:"home",activePanel:"home"}]});case"SET_ACCOUNTS":var c,i=null===(c=e.account)||void 0===c?void 0:c._id,r=i?t.payload.accounts.find((function(e){return e._id===i})):i;return Object(I.a)(Object(I.a)({},e),{},{accounts:t.payload.accounts,account:r});case"SET_BUDGETS":var u,d=null===(u=e.budget)||void 0===u?void 0:u._id,s=d?t.payload.budgets.find((function(e){return e._id===d})):d;return Object(I.a)(Object(I.a)({},e),{},{budgets:t.payload.budgets,budget:s});case"SET_ACCOUNT":var m=t.payload.id;return Object(I.a)(Object(I.a)({},e),{},{account:e.accounts.find((function(e){return e._id===m}))});case"SET_BUDGET":var p=t.payload.id;return Object(I.a)(Object(I.a)({},e),{},{budget:p?e.budgets.find((function(e){return e._id===p})):p});case"SET_EDITED_ITEM":return Object(I.a)(Object(I.a)({},e),{},{editedItem:t.payload.item});case"SET_POPOUT":return t.payload.popout?window.history.pushState({popout:null},"popout",window.location.search):window.history.replaceState({activeView:e.activeView,activePanel:e.activePanel},"".concat(e.activeView,".").concat(e.activePanel),window.location.search),Object(I.a)(Object(I.a)({},e),{},{popout:t.payload.popout});case _:return t.payload.modal?window.history.pushState({modal:t.payload.modal},"modal.".concat(t.payload.modal),window.location.search):window.history.replaceState({activeView:e.activeView,activePanel:e.activePanel},"".concat(e.activeView,".").concat(e.activePanel),window.location.search),Object(I.a)(Object(I.a)({},e),{},{modal:t.payload.modal});case"SET_SUCCESS_MESSAGE":return Object(I.a)(Object(I.a)({},e),{},{successMessage:t.payload.message});case"SET_ERROR":return Object(I.a)(Object(I.a)({},e),{},{error:t.payload.error});case"SET_DATE":return Object(I.a)(Object(I.a)({},e),{},{currentDate:new Date(t.payload.date)});default:return e}},G=Object(n.createContext)(),N=function(e){var t=e.children,a=Object(n.useReducer)(M,R);return l.a.createElement(G.Provider,{value:a},t)},q=a(152),H=a.n(q),L=a(153),U=a.n(L),F=function(){var e=Object(n.useContext)(G),t=Object(u.a)(e,2),a=t[0],o=t[1],c=Object(n.useState)(null),i=Object(u.a)(c,2),r=i[0],d=i[1];return Object(n.useEffect)((function(){a.error&&d(l.a.createElement(O.G,{onClose:function(){o({type:"SET_ERROR",payload:{error:null}}),d(null)},before:l.a.createElement(H.a,{style:{color:"var(--destructive)"}})},a.error.message))}),[d,o,a.error]),Object(n.useEffect)((function(){a.successMessage&&d(l.a.createElement(O.G,{onClose:function(){o({type:"SET_SUCCESS_MESSAGE",payload:{message:null}}),d(null)},before:l.a.createElement(U.a,{style:{color:"var(--accent)"}})},a.successMessage))}),[d,o,a.successMessage]),l.a.createElement(l.a.Fragment,null,r)},B=a(335),W=a(154),K=a(336),z=a(337),J=a(63),Y=a(155),Q=a.n(Y),X=a(156),Z=a.n(X),$=function(e){var t=e.onRefresh,a=Object(n.useContext)(G),o=Object(u.a)(a,2),c=o[0],i=o[1],r=Object(B.a)(Object(W.a)(c.currentDate,1),new Date);return l.a.createElement(O.l,null,l.a.createElement(O.e,{before:l.a.createElement(O.c,{onClick:function(){i({type:"SET_DATE",payload:{date:Object(K.a)(c.currentDate,1)}}),t()},mode:"secondary"},l.a.createElement(Q.a,null)),asideContent:l.a.createElement(O.c,{disabled:r,onClick:function(){i({type:"SET_DATE",payload:{date:Object(W.a)(c.currentDate,1)}}),t()},mode:"secondary"},l.a.createElement(Z.a,null)),style:{textAlign:"center",fontWeight:"bold"}},Object(z.a)(c.currentDate,"LLLL yyyy",{locale:J.a}).toLocaleUpperCase()))},ee=function(e){var t=e.id,a=e.accounts,n=e.budgets,o=e.dispatch,c=e.onRefresh,i=e.isFetching,r=a.map((function(e){return e.sum})).reduce((function(e,t){return e+t}),0);return l.a.createElement(p.a,{id:t},l.a.createElement(E.a,{left:l.a.createElement(l.a.Fragment,null,l.a.createElement(O.w,{onClick:function(){o({type:_,payload:{modal:"add-account"}})}},l.a.createElement(D.a,null)),0!==a.length&&l.a.createElement(O.w,{onClick:function(){o({type:"SET_ACCOUNT",payload:{id:null}}),o({type:_,payload:{modal:"add-money"}})}},l.a.createElement(x.a,null)))},"\u0411\u0430\u043b\u0430\u043d\u0441"),l.a.createElement($,{onRefresh:c}),l.a.createElement(O.A,{onRefresh:c,isFetching:i},l.a.createElement(O.p,null,l.a.createElement(y.a,{header:l.a.createElement(O.m,{mode:"secondary"},"\u0412\u0430\u0448\u0438 \u0441\u0447\u0435\u0442\u0430"),separator:"show"},l.a.createElement(h.a,null,l.a.createElement(O.L,{level:"1",weight:"semibold",style:{marginBottom:16}},g(r)),l.a.createElement(A,{data:a,dispatch:o,showAll:!1,itemsName:"accounts"}))),l.a.createElement(y.a,{header:l.a.createElement(O.m,{mode:"secondary"},"\u0412\u0430\u0448\u0438 \u0431\u044e\u0434\u0436\u0435\u0442\u044b"),separator:"show"},l.a.createElement(h.a,null,l.a.createElement(A,{data:n,dispatch:o,showAll:!1,itemsName:"budgets"}))))),l.a.createElement(F,null))},te=a(56),ae=a(99),ne=a.n(ae),le=a(159),oe=a.n(le),ce=function(e){var t=Object(n.useState)(!1),a=Object(u.a)(t,2),o=a[0],c=a[1],i=Object(n.useState)(null),r=Object(u.a)(i,2),d=r[0],s=r[1],m=Object(n.useState)(null),p=Object(u.a)(m,2),v=p[0],E=p[1],f=Object(n.useState)({}),y=Object(u.a)(f,2),b=y[0],h=y[1],g=Object(n.useContext)(G),T=Object(u.a)(g,2)[1],S=Object(n.useCallback)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};h(e),s(null),E(null),c(!0),T({type:"SET_POPOUT",payload:{popout:l.a.createElement(O.z,null,l.a.createElement(O.D,null))}})}),[T]),C=b.method,A=void 0===C?"GET":C,P=b.params,x=Object(te.a)(b,["method","params"]),V={method:A,baseURL:"https://balance.z-labz.ru/api",url:e,headers:{"Content-Type":"application/json"},params:P?Object(I.a)(Object(I.a)({},P),ne.a.parse(window.location.search)):Object(I.a)({},ne.a.parse(window.location.search)),data:"GET"!==A?x:null};return Object(n.useEffect)((function(){o&&function(){var e=Object(w.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c(!1),e.next=3,oe()(V).then(function(){var e=Object(w.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s(t.data.data),T({type:"SET_POPOUT",payload:{popout:null}}),T({type:_,payload:{modal:null}}),T({type:"SET_SUCCESS_MESSAGE",payload:{message:t.data.message}});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){var t=(null===e||void 0===e?void 0:e.response)?e.response.data.error:new Error("\u041f\u0440\u043e\u0431\u043b\u0435\u043c\u044b \u0441 \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435\u043c \u043a API");E(t),c(!1),T({type:"SET_POPOUT",payload:{popout:null}}),T({type:_,payload:{modal:null}}),T({type:"SET_ERROR",payload:{error:t}})}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[o,V,T]),[{isLoading:o,response:d,error:v},S]},ie=a(53),re=a.n(ie),ue=a(163),de=a.n(ue),se=a(164),me=a.n(se),pe=a(165),ve=a.n(pe),Ee=function(e){var t=e.currentTarget.validity;return t.valid&&" "!==e.currentTarget.value?{status:"valid",message:null}:t.badInput||t.valueMissing||" "===e.currentTarget.value?{status:"error",message:"\u041d\u0435\u0432\u0435\u0440\u043d\u044b\u0439 \u0444\u043e\u0440\u043c\u0430\u0442 \u0432\u0432\u043e\u0434\u0430 | \u041e\u0442\u0441\u0443\u0442\u0441\u0442\u0432\u0443\u0435\u0442 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435"}:t.tooLong?{status:"error",message:"\u041f\u0440\u0435\u0432\u044b\u0448\u0435\u043d\u0430 \u043c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u0430\u044f \u0434\u043b\u0438\u043d\u0430"}:t.typeMismatch?{status:"error",message:"\u041d\u0435\u0441\u043e\u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0438\u0435 \u0442\u0438\u043f\u0430"}:t.rangeOverflow?{status:"error",message:"\u0421\u043b\u0438\u0448\u043a\u043e\u043c \u0431\u043e\u043b\u044c\u0448\u043e\u0435 \u0447\u0438\u0441\u043b\u043e"}:t.rangeUnderflow?{status:"error",message:"\u041d\u0435\u043b\u044c\u0437\u044f \u0432\u0432\u043e\u0434\u0438\u0442\u044c \u043e\u0442\u0440\u0438\u0446\u0430\u0442\u0435\u043b\u044c\u043d\u044b\u0435 \u0447\u0438\u0441\u043b\u0430"}:{status:"default",message:null}},fe={title:"",sum:"",titleValidation:{},sumValidation:{}},ye=function(e,t){switch(t.type){case"CHANGE_STATE":var a=t.payload;return Object(I.a)(Object(I.a)({},e),a);default:return e}},be=function(e){var t=e.onRefresh,a=Object(n.useReducer)(ye,fe),o=Object(u.a)(a,2),c=o[0],i=o[1],r=ce("/money-box"),d=Object(u.a)(r,2),s=d[0].response,m=d[1];return Object(n.useEffect)((function(){s&&t()}),[s,t]),l.a.createElement(O.k,{onSubmit:function(){var e=Object(w.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,m({method:"POST",title:c.title,sum:c.sum});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},l.a.createElement(O.o,{type:"text",placeholder:"\u041a\u0430\u0440\u0442\u0430, \u043d\u0430\u043b\u0438\u0447\u043d\u044b\u0435, \u0441\u0447\u0435\u0442 \u0432 \u0431\u0430\u043d\u043a\u0435",top:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435",value:c.title,required:!0,maxLength:"20",status:c.titleValidation.status,bottom:c.titleValidation.message?c.titleValidation.message:"".concat(c.title.length," \u0438\u0437 20"),onChange:function(e){return i({type:"CHANGE_STATE",payload:{title:e.currentTarget.value.replace(/^\s*/g,""),titleValidation:Ee(e)}})}}),l.a.createElement(O.o,{type:"number",placeholder:g(0),top:"\u0411\u0430\u043b\u0430\u043d\u0441 \u0441\u0447\u0435\u0442\u0430",value:c.sum,required:!0,status:c.sumValidation.status,max:999999999,min:0,step:.01,bottom:c.sumValidation.message?c.sumValidation.message:"\u0414\u0435\u043d\u0435\u0436\u043d\u044b\u0435 \u0441\u0440\u0435\u0434\u0441\u0442\u0432\u0430, \u043d\u0430\u0445\u043e\u0434\u044f\u0449\u0438\u0435\u0441\u044f \u043d\u0430 \u0441\u0447\u0435\u0442\u0435 \u0432 \u0434\u0430\u043d\u043d\u044b\u0439 \u043c\u043e\u043c\u0435\u043d\u0442",onChange:function(e){return i({type:"CHANGE_STATE",payload:{sum:e.currentTarget.value,sumValidation:Ee(e)}})}}),l.a.createElement(O.c,{size:"xl"},"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"))},he={account:"",title:"",date:Object(z.a)(new Date,"yyyy-MM-dd"),income:!1,description:"",price:"",quantity:"",tags:[],boxPrice:!1,validate:{account:{},title:{},description:{},price:{},quantity:{},tags:{}}},Oe=function(e,t){switch(t.type){case"CHANGE_STATE":var a=t.payload,n=a.validateForm,l=Object(te.a)(a,["validateForm"]);return Object(I.a)(Object(I.a)(Object(I.a)({},e),l),{},{validate:Object(I.a)(Object(I.a)({},e.validate),n)});default:return e}},ge=function(e){var t,a,o,c,i,r,d,s,m,p,v,E,f,y,b,h,T,j,w,S,C,_,A,P,x,V,D,k,R,M,G=e.accounts,N=e.id,q=void 0===N?null:N,H=e.editedItem,L=void 0===H?null:H,U=e.onRefresh,F=Object(n.useState)((function(){return L?"/item/".concat(L._id):"/item"})),B=Object(u.a)(F,1)[0],W=ce(B),K=Object(u.a)(W,2),J=K[0].response,Y=K[1],Q=Object(n.useReducer)(Oe,he),X=Object(u.a)(Q,2),Z=X[0],$=X[1],ee=G.map((function(e){return l.a.createElement("option",{key:e._id,value:e._id},e.title," (",g(e.sum),")")}));Object(n.useEffect)((function(){L&&(L.date=Object(z.a)(new Date(L.date),"yyyy-MM-dd"),$({type:"CHANGE_STATE",payload:Object(I.a)({},L)}))}),[L,$]),Object(n.useEffect)((function(){J&&U()}),[J,U]);var te=Z.tags.map((function(e,t){return l.a.createElement(O.g,{style:{marginRight:"5px"},key:t},e)}));return l.a.createElement(O.k,{onSubmit:function(e){e.preventDefault(),Y({method:L?"PATCH":"POST",date:Z.date,title:Z.title,description:Z.description,price:Z.boxPrice?Z.price/Z.quantity:Z.price,quantity:Z.quantity,income:Z.income,tags:Z.tags,itemFrom:Z.account||q})}},l.a.createElement(O.F,{top:"\u0421\u0447\u0435\u0442",placeholder:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0441\u0447\u0435\u0442",onChange:function(e){$({type:"CHANGE_STATE",payload:{account:e.currentTarget.value,validateForm:{account:Ee(e)}}})},defaultValue:(null===L||void 0===L?void 0:L.itemFrom)||q||Z.account,required:!0,status:null===(t=Z.validate)||void 0===t||null===(a=t.account)||void 0===a?void 0:a.status,bottom:null===(o=Z.validate)||void 0===o||null===(c=o.account)||void 0===c?void 0:c.message},ee),l.a.createElement(O.o,{type:"date",top:"\u0414\u0430\u0442\u0430",value:Z.date,required:!0,onChange:function(e){$({type:"CHANGE_STATE",payload:{date:e.currentTarget.value}})}}),l.a.createElement(O.o,{type:"text",placeholder:"\u041f\u0440\u043e\u0434\u0443\u043a\u0442, \u0443\u0441\u043b\u0443\u0433\u0430, \u0442\u043e\u0432\u0430\u0440",value:Z.title,top:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435",required:!0,maxLength:20,status:null===(i=Z.validate)||void 0===i||null===(r=i.title)||void 0===r?void 0:r.status,bottom:(null===(d=Z.validate)||void 0===d||null===(s=d.title)||void 0===s?void 0:s.message)?null===(m=Z.validate)||void 0===m||null===(p=m.title)||void 0===p?void 0:p.message:"".concat(Z.title.length," \u0438\u0437 20"),onChange:function(e){$({type:"CHANGE_STATE",payload:{title:e.currentTarget.value.replace(/^\s*/g,""),validateForm:{title:Ee(e)}}})}}),l.a.createElement(O.B,{name:"income",value:!1,defaultChecked:!Z.income||null,onClick:function(){$({type:"CHANGE_STATE",payload:{income:!1}})}},"\u0420\u0430\u0441\u0445\u043e\u0434"),l.a.createElement(O.B,{name:"income",value:!0,defaultChecked:!!Z.income||null,onClick:function(){$({type:"CHANGE_STATE",payload:{income:!0}})}},"\u0414\u043e\u0445\u043e\u0434"),!Z.income&&l.a.createElement(O.K,{top:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435",placeholder:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0442\u043e\u0432\u0430\u0440\u0430(\u043f\u0440\u043e\u0434\u0443\u043a\u0442\u0430, \u0443\u0441\u043b\u0443\u0433\u0438)",value:Z.description,maxLength:70,status:null===(v=Z.validate)||void 0===v||null===(E=v.description)||void 0===E?void 0:E.status,bottom:(null===(f=Z.validate)||void 0===f||null===(y=f.description)||void 0===y?void 0:y.message)?null===(b=Z.validate)||void 0===b||null===(h=b.description)||void 0===h?void 0:h.message:"".concat(Z.description.length," \u0438\u0437 70"),onChange:function(e){$({type:"CHANGE_STATE",payload:{description:e.currentTarget.value,validateForm:{description:Ee(e)}}})}}),l.a.createElement(O.o,{type:"text",top:"\u0422\u0435\u0433\u0438",value:Z.tags.join(" "),placeholder:"\u0422\u0435\u0433\u0438 \u0447\u0435\u0440\u0435\u0437 \u043f\u0440\u043e\u0431\u0435\u043b",status:null===(T=Z.validate)||void 0===T||null===(j=T.tags)||void 0===j?void 0:j.status,maxLength:100,bottom:(null===(w=Z.validate)||void 0===w||null===(S=w.tags)||void 0===S?void 0:S.message)?null===(C=Z.validate)||void 0===C||null===(_=C.tags)||void 0===_?void 0:_.message:"".concat(Z.tags.join(" ").length," \u0438\u0437 100 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432"),onChange:function(e){$({type:"CHANGE_STATE",payload:{tags:""!==e.currentTarget.value?e.currentTarget.value.toLowerCase().split(" "):[],validateForm:{tags:Ee(e)}}})}}),0!==Z.tags.length&&l.a.createElement(O.h,{style:{display:"flex"}},te),l.a.createElement(O.o,{type:"number",placeholder:g(0),top:"\u0426\u0435\u043d\u0430",max:99999999,min:0,step:.01,status:null===(A=Z.validate)||void 0===A||null===(P=A.price)||void 0===P?void 0:P.status,bottom:null===(x=Z.validate)||void 0===x||null===(V=x.price)||void 0===V?void 0:V.message,value:Z.price,required:!0,onChange:function(e){$({type:"CHANGE_STATE",payload:{price:e.currentTarget.value,validateForm:{price:Ee(e)}}})}}),l.a.createElement(O.f,{value:Z.boxPrice,onClick:function(){$({type:"CHANGE_STATE",payload:{boxPrice:!Z.boxPrice}})}},"\u0426\u0435\u043d\u0430 \u0437\u0430 \u0443\u043f\u0430\u043a\u043e\u0432\u043a\u0443"),l.a.createElement(O.o,{type:"number",placeholder:"0",top:"\u041a\u043e\u043b-\u0432\u043e",max:9999999,min:0,step:.001,status:null===(D=Z.validate)||void 0===D||null===(k=D.quantity)||void 0===k?void 0:k.status,bottom:null===(R=Z.validate)||void 0===R||null===(M=R.quantity)||void 0===M?void 0:M.message,value:Z.quantity,required:!0,onChange:function(e){$({type:"CHANGE_STATE",payload:{quantity:e.currentTarget.value,validateForm:{quantity:Ee(e)}}})}}),l.a.createElement(O.c,{size:"xl"},"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c ".concat(Z.boxPrice?g(Z.price):g(Z.price*Z.quantity))))},Te=a(73),je=a.n(Te),we=a(74),Se=a.n(we);function Ce(e){return function(t,a){return(null===t||void 0===t?void 0:t.titleDate)?l.a.createElement(O.d,{level:"2",weight:"semibold",caps:!0,key:a},Object(z.a)(new Date(null===t||void 0===t?void 0:t.titleDate),"dd MMMM yyyy",{locale:J.a})):l.a.createElement(O.C,{key:a,multiline:!0,caption:Object(z.a)(new Date(null===t||void 0===t?void 0:t.date),"dd MMMM yyyy",{locale:J.a}),after:(null===t||void 0===t?void 0:t.income)?g(null===t||void 0===t?void 0:t.sum):g(-1*(null===t||void 0===t?void 0:t.sum)),"data-id":null===t||void 0===t?void 0:t._id,onClick:function(){e({type:"SET_EDITED_ITEM",payload:{item:t}}),e({type:_,payload:{modal:"add-money"}})}},null===t||void 0===t?void 0:t.title)}}var _e=a(160),Ae=function(e,t){var a=new Date(e.date),n=new Date(t.date);return Object(_e.a)(n,a)},Pe=a(161),xe=function(e,t){var a;return Object(Pe.a)(new Date(null===(a=e[e.length-1])||void 0===a?void 0:a.date),new Date(t.date))?[].concat(Object(k.a)(e),[t]):[].concat(Object(k.a)(e),[{titleDate:t.date},t])},Ve=function(e){var t=e.id,a=e.account,o=e.dispatch,c=e.onRefresh,i=Object(n.useState)(!1),r=Object(u.a)(i,2),d=r[0],s=r[1],m=ce("/money-box/".concat(null===a||void 0===a?void 0:a._id)),p=Object(u.a)(m,2),v=p[0].response,E=p[1],f=Object(n.useState)((function(){return null===a||void 0===a?void 0:a.operations})),b=Object(u.a)(f,2),h=b[0],T=b[1],S=Object(n.useState)((function(){return h})),C=Object(u.a)(S,2),A=C[0],P=C[1],V=A.sort(Ae).reduce(xe,[]).map(Ce(o)),D=function(){s(!d)},k=l.a.createElement(O.b,{actions:[{title:"\u041e\u0442\u043c\u0435\u043d\u0430",autoclose:!0,mode:"cancel"},{title:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c",mode:"destructive",autoclose:!0,action:function(){var e=Object(w.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return D(),e.next=3,E({method:"DELETE"});case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}],onClose:function(){D(),o({type:"SET_POPOUT",payload:{popout:null}})}},l.a.createElement("h2",null,"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0441\u0447\u0435\u0442?"),l.a.createElement("p",null,"\u0423\u0434\u0430\u043b\u0435\u043d\u0438\u0435 \u0441\u0447\u0435\u0442\u0430 \u043f\u0440\u0438\u0432\u0435\u0434\u0435\u0442 \u043a \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u044e \u0432\u0441\u0435\u0445 \u0434\u0430\u043d\u043d\u044b\u0445 \u043f\u043e \u0434\u043e\u0445\u043e\u0434\u0430\u043c \u0438 \u0440\u0430\u0441\u0445\u043e\u0434\u0430\u043c, \u043f\u0440\u0438\u0432\u044f\u0437\u0430\u043d\u043d\u044b\u043c \u043a \u0434\u0430\u043d\u043d\u043e\u043c\u0443 \u0441\u0447\u0435\u0442\u0443. \u0421\u0443\u043c\u043c\u044b \u0431\u044e\u0434\u0436\u0435\u0442\u043e\u0432 \u043c\u043e\u0433\u0443\u0442 \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0430\u0442\u044c\u0441\u044f \u043d\u0435\u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u043e."));Object(n.useEffect)((function(){T(null===a||void 0===a?void 0:a.operations),P(null===a||void 0===a?void 0:a.operations)}),[a]),Object(n.useEffect)((function(){v&&(o({type:"SET_ACTIVE_VIEW",payload:{view:"home",panel:"home"}}),o({type:"SET_EDITED_ITEM",payload:{item:null}}),c())}),[o,v,c]);return l.a.createElement(O.t,{id:t},l.a.createElement(O.u,{left:l.a.createElement(l.a.Fragment,null,l.a.createElement(O.v,{onClick:function(){o({type:"SET_HISTORY_BACK"}),o({type:"SET_EDITED_ITEM",payload:{item:null}})}}),l.a.createElement(O.w,{onClick:function(){o({type:"SET_EDITED_ITEM",payload:{item:null}}),o({type:_,payload:{modal:"add-money"}})}},l.a.createElement(x.a,null)))},l.a.createElement(O.x,{aside:l.a.createElement(je.a,{style:{transform:"rotate(".concat(d?"180deg":"0",")")}}),onClick:D},null===a||void 0===a?void 0:a.title)),l.a.createElement(O.y,{opened:d,onClose:D},l.a.createElement(O.p,null,l.a.createElement(O.e,{before:l.a.createElement(Se.a,null),onClick:function(){o({type:"SET_POPOUT",payload:{popout:k}})}},"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0441\u0447\u0435\u0442 ",null===a||void 0===a?void 0:a.title))),l.a.createElement($,{onRefresh:c}),l.a.createElement(O.E,{onChange:function(e){var t;t=e.currentTarget.value,P(""===t?h:null===a||void 0===a?void 0:a.operations.filter((function(e){return e.title.toLowerCase().indexOf(t.toLowerCase())>-1})))}}),l.a.createElement(y.a,{header:l.a.createElement(O.m,{mode:"secondary"},"\u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f \u043f\u043e \u0441\u0447\u0435\u0442\u0443"),separator:"show"},l.a.createElement(O.h,null,l.a.createElement(O.L,{level:"1",weight:"semibold",style:{marginBottom:16}},g(null===a||void 0===a?void 0:a.sum))),0===(null===a||void 0===a?void 0:a.operations.length)&&l.a.createElement(O.j,null,"\u041e\u043f\u0435\u0440\u0430\u0446\u0438\u0439 \u043f\u043e \u0441\u0447\u0435\u0442\u0443 \u0435\u0449\u0435 \u043d\u0435 \u0431\u044b\u043b\u043e"),l.a.createElement(O.h,null,V,0===V.length&&l.a.createElement(O.j,null,"\u041d\u0435\u0442 \u0434\u0430\u043d\u043d\u044b\u0445 \u0434\u043b\u044f \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u044f"))),l.a.createElement(F,null))},De=function(e){var t=e.id,a=e.budgets,n=e.dispatch,o=e.date,c=void 0===o?new Date:o,i=e.onRefresh,r=a.map((function(e){return e.startSum})).reduce((function(e,t){return e+t}),0),u=a.map((function(e){return e.sum})).reduce((function(e,t){return e+t}),0);return l.a.createElement(O.t,{id:t},l.a.createElement(O.u,{left:l.a.createElement(O.w,{onClick:function(){return n({type:_,payload:{modal:"add-budget"}})}},l.a.createElement(D.a,null))},"\u0411\u044e\u0434\u0436\u0435\u0442\u044b"),l.a.createElement($,{onRefresh:i}),l.a.createElement(O.l,{header:l.a.createElement(O.m,{mode:"secondary"},"\u0412\u0430\u0448\u0438 \u0431\u044e\u0434\u0436\u0435\u0442\u044b \u043d\u0430 ",Object(z.a)(new Date(c),"MMM yyyy",{locale:J.a})),separator:"show"},l.a.createElement(A,{data:a,dispatch:n,showAll:!0,itemsName:"budgets",needHide:!1}),l.a.createElement(O.j,null,"\u041e\u0441\u0442\u0430\u043b\u043e\u0441\u044c ",g(u)," \u0438\u0437 ",g(r))),l.a.createElement(F,null))},ke={title:"",startSum:"",validate:{title:{},startSum:{}}},Ie=function(e,t){switch(t.type){case"CHANGE_STATE":var a=t.payload,n=a.validateForm,l=Object(te.a)(a,["validateForm"]);return Object(I.a)(Object(I.a)(Object(I.a)({},e),l),{},{validate:Object(I.a)(Object(I.a)({},e.validate),n)});default:return e}},Re=function(e){var t,a,o,c,i,r,d,s,m,p,v,E,f=e.onRefresh,y=e.editedItem,b=void 0===y?null:y,h=Object(n.useReducer)(Ie,ke),T=Object(u.a)(h,2),S=T[0],C=T[1],_=Object(n.useState)((function(){return b?"/budget/".concat(b._id):"/budget"})),A=Object(u.a)(_,1)[0],P=ce(A),x=Object(u.a)(P,2),V=x[0].response,D=x[1];return Object(n.useEffect)((function(){b&&(V||C({type:"CHANGE_STATE",payload:Object(I.a)({},b)}))}),[b,C,V]),Object(n.useEffect)((function(){V&&f()}),[f,V]),l.a.createElement(O.k,{onSubmit:function(){var e=Object(w.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,D({method:b?"PATCH":"POST",title:S.title,sum:S.startSum});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},l.a.createElement(O.o,{type:"text",placeholder:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0431\u044e\u0434\u0436\u0435\u0442\u0430",top:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435",value:S.title,required:!0,maxLength:"20",status:null===(t=S.validate)||void 0===t||null===(a=t.title)||void 0===a?void 0:a.status,bottom:(null===(o=S.validate)||void 0===o||null===(c=o.title)||void 0===c?void 0:c.message)?null===(i=S.validate)||void 0===i||null===(r=i.title)||void 0===r?void 0:r.message:"".concat(S.title.length," \u0438\u0437 20"),onChange:function(e){return C({type:"CHANGE_STATE",payload:{title:e.currentTarget.value.replace(/^\s*/g,""),validateForm:{title:Ee(e)}}})}}),l.a.createElement(O.o,{type:"number",placeholder:g(0),top:"\u0411\u044e\u0434\u0436\u0435\u0442 \u0432 \u0440\u0443\u0431\u043b\u044f\u0445",value:S.startSum,required:!0,status:null===(d=S.validate)||void 0===d||null===(s=d.startSum)||void 0===s?void 0:s.status,min:0,max:999999999,step:.01,bottom:(null===(m=S.validate)||void 0===m||null===(p=m.startSum)||void 0===p?void 0:p.message)?null===(v=S.validate)||void 0===v||null===(E=v.startSum)||void 0===E?void 0:E.message:"\u0421\u043a\u043e\u043b\u044c\u043a\u043e \u0432\u044b \u0433\u043e\u0442\u043e\u0432\u044b \u043d\u0430 \u044d\u0442\u043e \u043f\u043e\u0442\u0440\u0430\u0442\u0438\u0442\u044c?",onChange:function(e){return C({type:"CHANGE_STATE",payload:{startSum:e.currentTarget.value,validateForm:{startSum:Ee(e)}}})}}),l.a.createElement(O.c,{size:"xl"},"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"))},Me=a(162),Ge=a.n(Me),Ne=function(e){var t=e.id,a=e.budget,o=e.dispatch,c=e.onRefresh,i=Object(n.useState)(!1),r=Object(u.a)(i,2),d=r[0],s=r[1],m=ce("/budget/".concat(null===a||void 0===a?void 0:a._id)),p=Object(u.a)(m,2),v=p[0].response,E=p[1],f=Object(n.useState)((function(){return null===a||void 0===a?void 0:a.items})),y=Object(u.a)(f,2),b=y[0],h=y[1],g=Object(n.useState)((function(){return b})),T=Object(u.a)(g,2),S=T[0],C=T[1];Object(n.useEffect)((function(){h(null===a||void 0===a?void 0:a.items),C(null===a||void 0===a?void 0:a.items)}),[a]),Object(n.useEffect)((function(){v&&(null===v||void 0===v?void 0:v.deletedCount)&&(o({type:"SET_ACTIVE_VIEW",payload:{view:"home",panel:"home"}}),o({type:"SET_EDITED_ITEM",payload:{item:null}}),c())}),[v,o,c]);var A=function(){s(!d)},P=l.a.createElement(O.b,{actions:[{title:"\u041e\u0442\u043c\u0435\u043d\u0430",autoclose:!0,mode:"cancel"},{title:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c",mode:"destructive",autoclose:!0,action:function(){var e=Object(w.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return A(),e.next=3,E({method:"DELETE"});case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}],onClose:function(){A(),o({type:"SET_POPOUT",payload:{popout:null}})}},l.a.createElement("h2",null,"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0431\u044e\u0434\u0436\u0435\u0442?"),l.a.createElement("p",null,"\u0412\u044b \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u0431\u044e\u0434\u0436\u0435\u0442?")),V=S&&S.sort(Ae).reduce(xe,[]).map(Ce(o));return l.a.createElement(O.t,{id:t},l.a.createElement(O.u,{left:l.a.createElement(l.a.Fragment,null,l.a.createElement(O.v,{onClick:function(){o({type:"SET_HISTORY_BACK"}),o({type:"SET_EDITED_ITEM",payload:{item:null}}),o({type:"SET_BUDGET",payload:{id:null}})}}),l.a.createElement(O.w,{onClick:function(){o({type:"SET_EDITED_ITEM",payload:{item:null}}),o({type:_,payload:{modal:"add-money"}})}},l.a.createElement(x.a,null)))},l.a.createElement(O.x,{aside:l.a.createElement(je.a,{style:{transform:"rotate(".concat(d?"180deg":"0",")")}}),onClick:A},null===a||void 0===a?void 0:a.title)),l.a.createElement(O.y,{opened:d,onClose:A},l.a.createElement(O.p,null,l.a.createElement(O.e,{before:l.a.createElement(Ge.a,null),onClick:function(){o({type:_,payload:{modal:"add-budget"}}),A()}},"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u0431\u044e\u0434\u0436\u0435\u0442 ",null===a||void 0===a?void 0:a.title),l.a.createElement(O.e,{before:l.a.createElement(Se.a,null),onClick:function(){o({type:"SET_POPOUT",payload:{popout:P}})}},"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0431\u044e\u0434\u0436\u0435\u0442 ",null===a||void 0===a?void 0:a.title))),l.a.createElement(O.E,{onChange:function(e){var t;t=e.currentTarget.value,C(""===t?b:a.items.filter((function(e){return e.title.toLowerCase().indexOf(t.toLowerCase())>-1})))}}),l.a.createElement(O.h,null,V,0===(null===V||void 0===V?void 0:V.length)&&l.a.createElement(O.j,null,"\u041d\u0435\u0442 \u0434\u0430\u043d\u043d\u044b\u0445 \u0434\u043b\u044f \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u044f")),l.a.createElement(F,null))},qe=function(e){var t=e.id,a=e.accounts,o=e.onRefresh,c=Object(n.useState)((function(){return a.map((function(e){return e.operations})).flat().filter((function(e){return!e.income})).sort((function(e,t){return e.title.localeCompare(t.title)}))})),i=Object(u.a)(c,2),r=i[0],d=i[1],s=Object(n.useState)((function(){return r})),m=Object(u.a)(s,2),p=m[0],v=m[1],E=p.reduce((function(e,t){var a;if((null===(a=e[e.length-1])||void 0===a?void 0:a.title)===t.title){var n=e[e.length-1];n.sum=n.sum+t.sum,n.quantity+=t.quantity;var l=[].concat(Object(k.a)(e.slice(0,e.length-1)),[n]);return Object(k.a)(l)}return[].concat(Object(k.a)(e),[{title:t.title,sum:t.sum,quantity:t.quantity}])}),[]).map((function(e,t){return l.a.createElement(O.C,{key:t,multiline:!0,caption:"\u041a\u043e\u043b-\u0432\u043e: ".concat(null===e||void 0===e?void 0:e.quantity," | \u0421\u0440. \u0446\u0435\u043d\u0430 ").concat(g((null===e||void 0===e?void 0:e.sum)/(null===e||void 0===e?void 0:e.quantity))),after:g(null===e||void 0===e?void 0:e.sum),"data-title":null===e||void 0===e?void 0:e.title},null===e||void 0===e?void 0:e.title)}));Object(n.useEffect)((function(){var e=a.map((function(e){return e.operations})).flat().filter((function(e){return!e.income})).sort((function(e,t){return e.title.localeCompare(t.title)}));d(e),v(e)}),[a]);return l.a.createElement(O.t,{id:t},l.a.createElement(O.u,null,"\u0421\u0432\u043e\u0434\u043a\u0430"),l.a.createElement($,{onRefresh:o}),l.a.createElement(O.E,{onChange:function(e){var t;t=e.currentTarget.value,v(""===t?a.map((function(e){return e.operations})).flat().filter((function(e){return!e.income})).sort((function(e,t){return e.title.localeCompare(t.title)})):a.map((function(e){return e.operations})).flat().filter((function(e){return!e.income})).sort((function(e,t){return e.title.localeCompare(t.title)})).filter((function(e){return e.title.toLowerCase().indexOf(t.toLowerCase())>-1})))}}),l.a.createElement(O.l,null,E,0===E.length&&l.a.createElement(O.j,null,"\u041d\u0435\u0442 \u0434\u0430\u043d\u043d\u044b\u0445 \u0434\u043b\u044f \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u044f")))},He=function(){var e,t=Object(O.M)(),a=ce("/state"),o=Object(u.a)(a,2),c=o[0],i=c.response,r=c.isLoading,d=o[1],m=Object(n.useState)(!0),p=Object(u.a)(m,2),v=p[0],E=p[1],f=Object(n.useContext)(G),y=Object(u.a)(f,2),b=y[0],h=y[1];Object(n.useEffect)((function(){v&&(d({params:{date:new Date(b.currentDate)}}),E(!1))}),[v,d,b.currentDate]),Object(n.useEffect)((function(){i&&(h({type:"SET_ACCOUNTS",payload:{accounts:(null===i||void 0===i?void 0:i.accounts)?null===i||void 0===i?void 0:i.accounts:[]}}),h({type:"SET_BUDGETS",payload:{budgets:(null===i||void 0===i?void 0:i.budgets)?null===i||void 0===i?void 0:i.budgets:[]}}))}),[i,h]),Object(n.useEffect)((function(){window.onpopstate=function(e){return b.modal?h({type:_,payload:{modal:null}}):0!==b.history.length?h({type:"SET_HISTORY_BACK",payload:{state:e.state}}):void 0}}),[h,b.history,b.modal]);var g=Object(n.useCallback)((function(){E(!0)}),[]),T=function(){h({type:_,payload:{modal:null}})},j=l.a.createElement(O.s,{activeModal:b.modal,onClose:T},l.a.createElement(O.q,{id:"add-account",header:l.a.createElement(O.r,{left:t===O.a&&l.a.createElement(O.w,{onClick:T},l.a.createElement(re.a,null)),right:l.a.createElement(O.w,{onClick:T},t===O.n?"\u0417\u0430\u043a\u0440\u044b\u0442\u044c":null)},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0441\u0447\u0435\u0442")},l.a.createElement(be,{onRefresh:g})),l.a.createElement(O.q,{id:"add-money",header:l.a.createElement(O.r,{left:t===O.a&&l.a.createElement(O.w,{onClick:T},l.a.createElement(re.a,null)),right:l.a.createElement(O.w,{onClick:T},t===O.n?"\u0417\u0430\u043a\u0440\u044b\u0442\u044c":null)},b.editedItem?"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c":"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0437\u0430\u043f\u0438\u0441\u044c")},l.a.createElement(ge,{accounts:b.accounts,id:null===(e=b.account)||void 0===e?void 0:e._id,editedItem:b.editedItem,onRefresh:g})),l.a.createElement(O.q,{id:"add-budget",header:l.a.createElement(O.r,{left:t===O.a&&l.a.createElement(O.w,{onClick:T},l.a.createElement(re.a,null)),right:l.a.createElement(O.w,{onClick:T},t===O.n?"\u0417\u0430\u043a\u0440\u044b\u0442\u044c":null)},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0431\u044e\u0434\u0436\u0435\u0442")},l.a.createElement(Re,{editedItem:b.budget,onRefresh:g,dispatch:h}))),w=function(e){h({type:"SET_ACTIVE_VIEW",payload:{view:e.currentTarget.dataset.story,panel:e.currentTarget.dataset.panel}})},S=l.a.createElement(O.H,null,l.a.createElement(O.I,{onClick:w,selected:"home"===b.activeView,"data-story":"home","data-panel":"home",text:"\u0411\u0430\u043b\u0430\u043d\u0441"},l.a.createElement(de.a,null)),l.a.createElement(O.I,{onClick:w,selected:"info"===b.activeView&&("budgets"===b.activePanel||"budget"===b.activePanel),"data-story":"info","data-panel":"budgets",text:"\u0411\u044e\u0434\u0436\u0435\u0442\u044b"},l.a.createElement(me.a,null)),l.a.createElement(O.I,{onClick:w,selected:"info"===b.activeView&&"stats"===b.activePanel,"data-story":"info","data-panel":"stats",text:"\u0421\u0432\u043e\u0434\u043a\u0430"},l.a.createElement(ve.a,null)));return l.a.createElement(O.i,{activeStory:b.activeView,tabbar:S},l.a.createElement(s.a,{id:"home",activePanel:b.activePanel,popout:b.popout,modal:j},l.a.createElement(ee,{id:"home",accounts:b.accounts,budgets:b.budgets,dispatch:h,isLoading:r,onRefresh:g,isFetching:r})),l.a.createElement(s.a,{id:"info",activePanel:b.activePanel,popout:b.popout,modal:j},l.a.createElement(Ve,{id:"account",account:b.accounts.find((function(e){var t;return e._id===(null===(t=b.account)||void 0===t?void 0:t._id)})),dispatch:h,onRefresh:g}),l.a.createElement(Ne,{id:"budget",budget:b.budgets.find((function(e){var t;return e._id===(null===(t=b.budget)||void 0===t?void 0:t._id)})),dispatch:h,onRefresh:g}),l.a.createElement(De,{id:"budgets",budgets:b.budgets,dispatch:h,onRefresh:g,date:b.currentDate}),l.a.createElement(qe,{id:"stats",accounts:b.accounts,onRefresh:g,dispatch:h})))};r.a.subscribe((function(e){var t=e.detail,a=t.type,n=t.data;if("VKWebAppUpdateConfig"===a){var l=document.createAttribute("scheme");l.value=n.scheme?n.scheme:"client_light",document.body.attributes.setNamedItem(l)}})),r.a.send("VKWebAppInit"),c.a.render(l.a.createElement(N,null,l.a.createElement(He,null)),document.getElementById("root"))}},[[204,1,2]]]);
//# sourceMappingURL=main.049eab0c.chunk.js.map